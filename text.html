<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ–‡ç« ãŠé¡Œ | RxD Base</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    :root{ --bg:#F5EBFA; --ink:#222; --card:#fff; --pink:#FF93C2; --mint:#7FE7DB; --ink2:#555; --line:#DDD; }
    html{ background:var(--bg); color:var(--ink);
      font-family:'Noto Sans JP','Kosugi Maru','M PLUS Rounded 1c',system-ui,sans-serif; }
    body{ margin:0; min-height:100vh; scroll-behavior:smooth; }
    .container{ max-width:780px; margin:0 auto; padding:24px 12px 56px; }
    .logoimg{ width:56px; height:56px; border-radius:50%; display:block; margin:0 auto 8px; }
    h1{ margin:0 0 12px; font-size:1.9rem; font-weight:800; letter-spacing:.03em; text-align:center; }
    hr.cute{ border:none; border-top:2.5px dashed var(--pink); margin:18px auto 26px; width:90%; }
    .desc{ text-align:center; font-size:1.06rem; color:var(--ink2); margin-bottom:20px; }
    .cards{ display:grid; grid-template-columns:1fr; gap:20px; }

    .card{
      background:var(--card); border:2.5px solid var(--pink); border-radius:16px;
      box-shadow:0 2px 12px #7FE7DB20; padding:16px;
      display:flex; align-items:flex-start; gap:14px; flex-wrap:nowrap; position:relative;
      transition:box-shadow .18s, border-color .18s;
    }
    .card:hover{ box-shadow:0 4px 24px #FF93C288; border-color:var(--mint); }
    .cardbody{ flex:1 1 auto; min-width:0; }

    /* ã‚¿ã‚¤ãƒˆãƒ«ã‚’ãƒœã‚¿ãƒ³åŒ–ï¼ˆã‚¯ãƒªãƒƒã‚¯å±•é–‹ï¼‰ */
    .cardtitle{
      appearance:none; border:none; background:transparent; padding:0; margin:0 0 4px 0;
      font-size:1.12rem; font-weight:800; color:var(--pink); cursor:pointer; text-align:left;
      display:inline-flex; align-items:center; gap:8px;
    }
    .cardtitle:focus{ outline:2px dashed var(--mint); outline-offset:2px; border-radius:6px; }
    .caret{ inline-size:0.8em; block-size:0.8em; border-right:3px solid var(--ink2); border-bottom:3px solid var(--ink2);
      transform:rotate(45deg); transition:transform .18s; margin-left:2px; }
    .card.expanded .caret{ transform:rotate(-135deg); }

    .carddesc{ font-size:1rem; color:var(--ink2); margin-bottom:8px; }

    .promptbox{ display:flex; align-items:center; gap:8px; flex-wrap:nowrap; width:100%; }

    /* æŠ˜ã‚ŠãŸãŸã¿æ™‚ï¼ˆè¦‹ãŸç›®1è¡Œï¼‰ */
    .promptarea{
      background:#F8F7FD; border:1.5px solid var(--line); border-radius:8px;
      font-size:.95rem; color:#444; letter-spacing:.01em;
      height:56px; line-height:56px; padding:0 8px;
      resize:none; overflow:hidden; white-space:nowrap;
      flex:1 1 260px; min-width:0; max-width:100%;
      transition:height .12s ease;
    }
    /* å±•é–‹æ™‚ï¼ˆèª­ã¿ã‚„ã™ãè‡ªå‹•é«˜ã•ï¼‰ */
    .card.expanded .promptarea{
      white-space:pre-wrap; line-height:1.5; padding:8px 10px; overflow:auto; height:auto;
    }

    .copybtn{
      background:var(--mint); color:var(--ink); font-weight:800; border:none; border-radius:10px;
      padding:8px 12px; cursor:pointer; transition:background .18s, transform .06s;
      font-size:.95rem; flex:0 0 auto;
    }
    .copybtn:hover{ background:var(--pink); color:#fff; }
    .copybtn:active{ transform:translateY(1px); }
    .copybtn[disabled]{ opacity:.7; cursor:default; }

    .footer{ text-align:center; margin-top:40px; color:#B3A9D6; font-size:.96rem; }

    /* ä¸Šä¸‹ãƒŠãƒ“ & å„ã‚«ãƒ¼ãƒ‰ã®â–² */
    .backlink{
      display:inline-block; background:var(--mint); color:var(--ink); font-weight:bold;
      text-decoration:none; border-radius:8px; padding:6px 14px; margin:12px auto; transition:background .18s;
    }
    .backlink:hover{ background:var(--pink); color:#fff; }
    .gotop{ position:absolute; top:8px; right:12px; font-size:.9rem; text-decoration:none; color:var(--ink2); }
    .gotop:hover{ color:var(--pink); }

    @media (max-width:600px){
      .container{ padding:14px 8px 36px; }
      .card{ padding:12px; gap:10px; }
      .cardtitle{ font-size:1.06rem; }
      .promptbox{ gap:6px; }
      .promptarea{ flex:1 1 140px; }
      .copybtn{ padding:8px 10px; font-size:.92rem; }
    }

    @media (prefers-reduced-motion:reduce){ *{ transition:none !important; animation:none !important; } }

    .highlight{ animation:flash 1.8s ease; }
    @keyframes flash{ 0%{box-shadow:0 0 0 #FF93C200;} 30%{box-shadow:0 0 18px #FF93C288;} 100%{box-shadow:0 0 0 #FF93C200;} }
  </style>

  <script>
    async function copyPrompt(id, btn){
      const el = document.getElementById(id);
      const text = (el?.value ?? el?.textContent ?? '').trim();
      if(!text) return;
      try{
        if(navigator.clipboard && window.isSecureContext){
          await navigator.clipboard.writeText(text);
        }else{
          const range=document.createRange(); range.selectNodeContents(el);
          const sel=window.getSelection(); sel.removeAllRanges(); sel.addRange(range);
          document.execCommand('copy'); sel.removeAllRanges();
        }
        flashCopied(btn);
      }catch(_){ flashCopied(btn,false); }
    }
    function flashCopied(btn, ok=true){
      const o=btn.textContent; btn.textContent= ok?'ã“ã´ã—ãŸï¼':'å¤±æ•—ï¼Ÿ';
      btn.disabled=true; setTimeout(()=>{ btn.textContent=o; btn.disabled=false; },1600);
    }

    function autosize(el){
      el.style.height = 'auto';
      el.style.height = el.scrollHeight + 'px';
    }

    function setExpanded(card, on){
      const ta = card.querySelector('.promptarea');
      const titleBtn = card.querySelector('.cardtitle');
      if(on){
        card.classList.add('expanded');
        titleBtn?.setAttribute('aria-expanded','true');
        // å±•é–‹å¾Œã«é«˜ã•ãƒ•ã‚£ãƒƒãƒˆ
        if(ta){ autosize(ta); }
      }else{
        card.classList.remove('expanded');
        titleBtn?.setAttribute('aria-expanded','false');
        if(ta){ ta.style.height = '56px'; } // æŠ˜ã‚ŠãŸãŸã¿é«˜ã•ã«æˆ»ã™
      }
    }

    window.addEventListener('DOMContentLoaded',()=>{
      // å„ã‚«ãƒ¼ãƒ‰ åˆæœŸåŒ–
      document.querySelectorAll('.card').forEach(card=>{
        const id = card.id; if(!id) return;
        const ta  = card.querySelector('.promptarea');
        const btn = card.querySelector('.copybtn');
        const titleBtn = card.querySelector('.cardtitle');

        // ãƒ†ã‚­ã‚¹ãƒˆè‡ªå‹•èª­è¾¼
        if(ta){
          ta.id = `prompt-${id}`;
          fetch(`text_text/${id}.txt`)
            .then(res=>res.ok?res.text():"")
            .then(txt=>{ ta.value = txt; /* åˆæœŸã¯é–‰ã˜ãŸã¾ã¾ */ })
            .catch(()=>{ ta.value="(èª­ã¿è¾¼ã¿å¤±æ•—)"; });
        }

        // ã‚³ãƒ”ãƒ¼ç´ä»˜ã‘
        if(btn && ta){ btn.addEventListener('click',()=>copyPrompt(ta.id,btn)); }

        // ã‚¿ã‚¤ãƒˆãƒ«ã§é–‹é–‰
        if(titleBtn){
          titleBtn.setAttribute('type','button');
          titleBtn.setAttribute('aria-expanded','false');
          titleBtn.addEventListener('click',()=>{
            const open = !card.classList.contains('expanded');
            setExpanded(card, open);
          });
        }

        // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã§èª­ã¿ã‚„ã™ã„ã‚ˆã†ã«ã€å±•é–‹ä¸­ã«å…¥åŠ›ãŒå¤‰ã‚ã‚Œã°è¿½å¾“
        ta?.addEventListener('input',()=>{ if(card.classList.contains('expanded')) autosize(ta); });
      });

      // ãƒãƒƒã‚·ãƒ¥ã§æ¥ãŸã‚‰ãã®ã‚«ãƒ¼ãƒ‰ã‚’å±•é–‹ï¼†ãƒã‚¤ãƒ©ã‚¤ãƒˆ
      if(location.hash){
        const t=document.querySelector(location.hash);
        if(t){
          setExpanded(t, true);
          t.classList.add('highlight');
          setTimeout(()=>t.classList.remove('highlight'),2000);
        }
      }
    });
  </script>
</head>

<body id="top">
  <div class="container">
    <a href="index.html" class="backlink">â† indexã«æˆ»ã‚‹</a>

    <img src="rxd-logo.png" class="logoimg" alt="RxDãƒ­ã‚´">
    <h1>æ–‡ç« ãŠé¡Œ</h1>
    <hr class="cute">
    <p class="desc">ã‚ï½ã·ã‚Œãªã©ã€‚ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã§ä¸­èº«Check!!<br>æ”¹å¤‰æ¨å¥¨ãƒ»å ±å‘Šä¸è¦ãƒ»ã”è‡ªç”±ã«ğŸ’¬</p>
    <hr class="cute">

    <div class="cards">

      <!-- ã‚«ãƒ¼ãƒ‰ä¾‹1 -->
      <div class="card" id="androidemotions">
        <a href="#top" class="gotop">â–²</a>
        <div class="cardbody">
          <button class="cardtitle"><span class="caret" aria-hidden="true"></span>ã‚¢ãƒ³ãƒ‰ãƒ­ã‚¤ãƒ‰ã®æ„Ÿæƒ…</button>
          <div class="carddesc">ãƒ—ãƒ­ãƒ¬ã‚¿ãƒªã‚¢ã€‚ç›¸æ–¹ãŒæ„Ÿæƒ…åˆ‡ã‚Šå£²ã‚Šã—ã¦ãã‚ŒãŸé‡‘ã§é£Ÿã†é£¯ã¯ç¾å‘³ã„ã‹ï¼Ÿ</div>
          <div class="promptbox">
            <textarea class="promptarea" rows="2" wrap="off" readonly></textarea>
            <button class="copybtn">ã‚³ãƒ”ãƒ¼</button>
          </div>
        </div>
      </div>

      <!-- ã‚«ãƒ¼ãƒ‰ä¾‹2 -->
      <div class="card" id="dialogue">
        <a href="#top" class="gotop">â–²</a>
        <div class="cardbody">
          <button class="cardtitle"><span class="caret" aria-hidden="true"></span>ä¼šè©±ãŠé¡Œ</button>
          <div class="carddesc">æ›ã‘åˆã„ã®ãã£ã‹ã‘ã«ã€‚ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</div>
          <div class="promptbox">
            <textarea class="promptarea" rows="1" wrap="off" readonly></textarea>
            <button class="copybtn">ã‚³ãƒ”ãƒ¼</button>
          </div>
        </div>
      </div>

      <!-- ã‚«ãƒ¼ãƒ‰ä¾‹3 -->
      <div class="card" id="theme">
        <a href="#top" class="gotop">â–²</a>
        <div class="cardbody">
          <button class="cardtitle"><span class="caret" aria-hidden="true"></span>ãƒ†ãƒ¼ãƒæŒ‡å®š</button>
          <div class="carddesc">ãŠé¡Œã®ç²’åº¦ã‚’å¤§ãã‚ã«ã€‚ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</div>
          <div class="promptbox">
            <textarea class="promptarea" rows="1" wrap="off" readonly></textarea>
            <button class="copybtn">ã‚³ãƒ”ãƒ¼</button>
          </div>
        </div>
      </div>

    </div>

    <a href="index.html" class="backlink">â† indexã«æˆ»ã‚‹</a>
    <div class="footer">&copy; 2025 Secret Base (Rag and Duster)</div>
  </div>
</body>
</html>
